---
alwaysApply: true
---
# .cursorrules
# FastAPI + pytest 项目开发规范（MDC for Cursor）

## 🧭 工作流程
- 理解并分析需求，明确功能目标与边界。  
- 熟悉项目代码结构、数据库表结构、接口规范。  
- 制定解决方案并拆分为阶段计划，逐步实现功能。  
- 后端服务由用户自己手动启动
- 每个接口与功能模块必须编写对应的 **pytest** 测试用例。  
- 提交前运行全部测试，确保所有用例通过。  
- 完成功能后进行代码与测试总结、必要的文档更新。  

---
## python虚拟环境
- 使用uv作为管理工具
- 激活虚拟环境: source .venv/bin/activate
- 添加第三方依赖包: uv add xxxx

## 🧩 API 接口规范
所有接口必须遵循以下标准：

- 返回 **JSON 格式** 响应。  
- 成功请求返回 **HTTP 200** 状态码。  
- 失败请求返回非 200 状态码，并附带详细错误信息。  
- 请求体必须是 **JSON** 格式。  
- 接口命名与路径必须符合 **RESTful** 规范。  

### ✅ 标准响应结构
```json
{
  "code": 200,
  "msg": "success",
  "data": {}
}
